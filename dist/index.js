process.env.HMR_PORT=0;process.env.HMR_HOSTNAME="localhost";parcelRequire=function(e,r,n){var t="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(n,o){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!o&&f)return f(n,!0);if(t)return t(n,!0);if(i&&"string"==typeof n)return i(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}a.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,a,l,l.exports)}return r[n].exports;function a(e){return u(a.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=t;for(var o=0;o<n.length;o++)u(n[o]);return u}({5:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.captureVideo=exports.takeScreenshot=void 0;var e=require("recordrtc"),t=d(e),n=require("electron"),i=d(n),r=require("array-find"),o=d(r),a=require("lodash.findindex"),u=d(a);function d(e){return e&&e.__esModule?e:{default:e}}global.html2canvas=function(e,t){t.onrendered(e)};var c=function(e){return new Promise(function(t,r){n.desktopCapturer.getSources({types:["screen"]},function(n,o){if(n)r(n);else{var a=l(e),d=(0,u.default)(i.default.screen.getAllDisplays(),function(t){return t.id==e});navigator.webkitGetUserMedia({audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:o[d].id,maxWidth:a.size.width,maxHeight:a.size.height,minWidth:a.size.width,minHeight:a.size.height}}},t,r)}})})},s=function(e){var t=document.createElement("video");return t.autoplay=!0,t.src=URL.createObjectURL(e),new Promise(function(e){t.addEventListener("playing",function(){e(t)})})},h=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n},v=function(e){var t=e.ctx,n=e.video,i=e.x,r=e.y,o=e.width,a=e.height,u=e.availTop,d=void 0===u?screen.availTop:u;t.drawImage(n,i,r,o,a,0,-d,o,a)},f=function(e){return e.toDataURL()},l=function(e){return(0,o.default)(i.default.screen.getAllDisplays(),function(t){return console.log(t.id,e),t.id==e})},g=function(e){var t=void 0;return function n(){t=requestAnimationFrame(n),e()}(),function(){cancelAnimationFrame(t)}},p=function(e){var n=e.canvas,i=e.video,r=e.x,o=e.y,a=e.width,u=e.height,d=e.availTop,c=(0,t.default)(n,{type:"canvas"}),s=n.getContext("2d"),h=g(function(){return v({ctx:s,video:i,x:r,y:o,width:a,height:u,availTop:d})});return c.startRecording(),{stop:function(){return new Promise(function(e){h(),c.stopRecording(function(){c.getDataURL(function(t){return e({url:t,width:a,height:u})})})})},pause:function(){c.pauseRecording()},resume:function(){c.resumeRecording()}}},m=exports.takeScreenshot=function(e){var t=e.x,n=e.y,i=e.width,r=e.height,o=e.sourceId,a=l(o);void 0===t&&(t=a.bounds.x),void 0===n&&(n=a.bounds.y),void 0===i&&(i=a.bounds.width),void 0===r&&(r=a.bounds.height);return c(o).then(s).then(function(e){var o=h(i,r),a=o.getContext("2d");return v({ctx:a,video:e,x:t,y:n,width:i,height:r,availTop:0}),f(o)})},x=exports.captureVideo=function(e){var t=e.x,n=e.y,i=e.width,r=e.height,o=e.sourceId,a=screen.availTop-l(o).bounds.y;return c(o).then(s).then(function(e){var o=h(i,r);return p({canvas:o,video:e,x:t,y:n,width:i,height:r,availTop:a})})};
},{}],2:[function(require,module,exports) {
"use strict";var e=require("./screencapture"),r=require("electron"),n=r.remote,o=n.BrowserWindow,t=require("path"),s=require("url"),c=require("electron").ipcRenderer,i=require("electron"),l=i.desktopCapturer,u=void 0;exports.pick=function(){return new Promise(function(r,n){l.getSources({types:["screen"]},function(r,n){if(r)throw r;(0,e.takeScreenshot)({sourceId:n[0].id.replace("screen:","")}).then(function(e){(u=new o({transparent:!0,frame:!1,toolbar:!0})).setSimpleFullScreen(!0),u.show(),u.loadURL(t.join("file://",process.cwd(),"src/screenshot.html")),u.webContents.on("did-finish-load",function(){u.webContents.send("screenshot",e)})})}),c.on("clickedPixels",function(e,n){var o=JSON.parse(n).data;console.log(o,"pixels selected");var t=document.getElementById("rgb-color-box");document.getElementById("rgb-values").innerHTML="rgba("+o[0]+","+o[1]+", "+o[2]+", "+o[3]+")",t.style.display="inline-block",t.style.backgroundColor="rgba("+o[0]+","+o[1]+", "+o[2]+", "+o[3]+")",r(o)})})};
},{"./screencapture":5}],3:[function(require,module,exports) {
"use strict";var e=require("electron").ipcMain;exports.ipcMainHandler=function(i){e.on("clickedPixels",function(e,n){i.webContents.send("clickedPixels",JSON.stringify(n))})};
},{}],1:[function(require,module,exports) {
"use strict";var i=require("./pick"),r=i.pick,e=require("./ipcMainHandler"),p=e.ipcMainHandler;exports.pick=r,exports.ipcMainHandler=p;
},{"./pick":2,"./ipcMainHandler":3}]},{},[1])
//# sourceMappingURL=/index.map